{"ast":null,"code":"import { hashObject } from \"../../utils/hashObject\";\n/** @hidden */\nexport class OrderedDistinctEndpointComponent {\n  constructor(executionContext) {\n    this.executionContext = executionContext;\n  }\n  async nextItem(diagnosticNode) {\n    const {\n      headers,\n      result\n    } = await this.executionContext.nextItem(diagnosticNode);\n    if (result) {\n      const hashedResult = await hashObject(result);\n      if (hashedResult === this.hashedLastResult) {\n        return {\n          result: undefined,\n          headers\n        };\n      }\n      this.hashedLastResult = hashedResult;\n    }\n    return {\n      result,\n      headers\n    };\n  }\n  hasMoreResults() {\n    return this.executionContext.hasMoreResults();\n  }\n}","map":{"version":3,"names":["hashObject","OrderedDistinctEndpointComponent","constructor","executionContext","nextItem","diagnosticNode","headers","result","hashedResult","hashedLastResult","undefined","hasMoreResults"],"sources":["/Users/ajitpawar/microsoft/bap/POCs/Scenario_checker_for_maker/mcs-scenario-checker-for-maker/node_modules/@azure/cosmos/src/queryExecutionContext/EndpointComponent/OrderedDistinctEndpointComponent.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport type { Response } from \"../../request\";\nimport type { ExecutionContext } from \"../ExecutionContext\";\nimport { hashObject } from \"../../utils/hashObject\";\nimport type { DiagnosticNodeInternal } from \"../../diagnostics/DiagnosticNodeInternal\";\n\n/** @hidden */\nexport class OrderedDistinctEndpointComponent implements ExecutionContext {\n  private hashedLastResult: string;\n  constructor(private executionContext: ExecutionContext) {}\n\n  public async nextItem(diagnosticNode: DiagnosticNodeInternal): Promise<Response<any>> {\n    const { headers, result } = await this.executionContext.nextItem(diagnosticNode);\n    if (result) {\n      const hashedResult = await hashObject(result);\n      if (hashedResult === this.hashedLastResult) {\n        return { result: undefined, headers };\n      }\n      this.hashedLastResult = hashedResult;\n    }\n    return { result, headers };\n  }\n\n  public hasMoreResults(): boolean {\n    return this.executionContext.hasMoreResults();\n  }\n}\n"],"mappings":"AAIA,SAASA,UAAU,QAAQ,wBAAwB;AAGnD;AACA,OAAM,MAAOC,gCAAgC;EAE3CC,YAAoBC,gBAAkC;IAAlC,KAAAA,gBAAgB,GAAhBA,gBAAgB;EAAqB;EAElD,MAAMC,QAAQA,CAACC,cAAsC;IAC1D,MAAM;MAAEC,OAAO;MAAEC;IAAM,CAAE,GAAG,MAAM,IAAI,CAACJ,gBAAgB,CAACC,QAAQ,CAACC,cAAc,CAAC;IAChF,IAAIE,MAAM,EAAE;MACV,MAAMC,YAAY,GAAG,MAAMR,UAAU,CAACO,MAAM,CAAC;MAC7C,IAAIC,YAAY,KAAK,IAAI,CAACC,gBAAgB,EAAE;QAC1C,OAAO;UAAEF,MAAM,EAAEG,SAAS;UAAEJ;QAAO,CAAE;MACvC;MACA,IAAI,CAACG,gBAAgB,GAAGD,YAAY;IACtC;IACA,OAAO;MAAED,MAAM;MAAED;IAAO,CAAE;EAC5B;EAEOK,cAAcA,CAAA;IACnB,OAAO,IAAI,CAACR,gBAAgB,CAACQ,cAAc,EAAE;EAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}