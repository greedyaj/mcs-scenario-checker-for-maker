{"ast":null,"code":"import { hashObject } from \"../../utils/hashObject\";\n/** @hidden */\nexport class UnorderedDistinctEndpointComponent {\n  constructor(executionContext) {\n    this.executionContext = executionContext;\n    this.hashedResults = new Set();\n  }\n  async nextItem(diagnosticNode) {\n    const {\n      headers,\n      result\n    } = await this.executionContext.nextItem(diagnosticNode);\n    if (result) {\n      const hashedResult = await hashObject(result);\n      if (this.hashedResults.has(hashedResult)) {\n        return {\n          result: undefined,\n          headers\n        };\n      }\n      this.hashedResults.add(hashedResult);\n    }\n    return {\n      result,\n      headers\n    };\n  }\n  hasMoreResults() {\n    return this.executionContext.hasMoreResults();\n  }\n}","map":{"version":3,"names":["hashObject","UnorderedDistinctEndpointComponent","constructor","executionContext","hashedResults","Set","nextItem","diagnosticNode","headers","result","hashedResult","has","undefined","add","hasMoreResults"],"sources":["/Users/ajitpawar/microsoft/bap/POCs/Scenario_checker_for_maker/mcs-scenario-checker-for-maker/node_modules/@azure/cosmos/src/queryExecutionContext/EndpointComponent/UnorderedDistinctEndpointComponent.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport type { Response } from \"../../request\";\nimport type { ExecutionContext } from \"../ExecutionContext\";\nimport { hashObject } from \"../../utils/hashObject\";\nimport type { DiagnosticNodeInternal } from \"../../diagnostics/DiagnosticNodeInternal\";\n\n/** @hidden */\nexport class UnorderedDistinctEndpointComponent implements ExecutionContext {\n  private hashedResults: Set<string>;\n  constructor(private executionContext: ExecutionContext) {\n    this.hashedResults = new Set();\n  }\n\n  public async nextItem(diagnosticNode: DiagnosticNodeInternal): Promise<Response<any>> {\n    const { headers, result } = await this.executionContext.nextItem(diagnosticNode);\n    if (result) {\n      const hashedResult = await hashObject(result);\n      if (this.hashedResults.has(hashedResult)) {\n        return { result: undefined, headers };\n      }\n      this.hashedResults.add(hashedResult);\n    }\n    return { result, headers };\n  }\n\n  public hasMoreResults(): boolean {\n    return this.executionContext.hasMoreResults();\n  }\n}\n"],"mappings":"AAIA,SAASA,UAAU,QAAQ,wBAAwB;AAGnD;AACA,OAAM,MAAOC,kCAAkC;EAE7CC,YAAoBC,gBAAkC;IAAlC,KAAAA,gBAAgB,GAAhBA,gBAAgB;IAClC,IAAI,CAACC,aAAa,GAAG,IAAIC,GAAG,EAAE;EAChC;EAEO,MAAMC,QAAQA,CAACC,cAAsC;IAC1D,MAAM;MAAEC,OAAO;MAAEC;IAAM,CAAE,GAAG,MAAM,IAAI,CAACN,gBAAgB,CAACG,QAAQ,CAACC,cAAc,CAAC;IAChF,IAAIE,MAAM,EAAE;MACV,MAAMC,YAAY,GAAG,MAAMV,UAAU,CAACS,MAAM,CAAC;MAC7C,IAAI,IAAI,CAACL,aAAa,CAACO,GAAG,CAACD,YAAY,CAAC,EAAE;QACxC,OAAO;UAAED,MAAM,EAAEG,SAAS;UAAEJ;QAAO,CAAE;MACvC;MACA,IAAI,CAACJ,aAAa,CAACS,GAAG,CAACH,YAAY,CAAC;IACtC;IACA,OAAO;MAAED,MAAM;MAAED;IAAO,CAAE;EAC5B;EAEOM,cAAcA,CAAA;IACnB,OAAO,IAAI,CAACX,gBAAgB,CAACW,cAAc,EAAE;EAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}