{"ast":null,"code":"import { createTriggerUri, getIdFromLink, getPathFromLink, isResourceValid, ResourceType } from \"../../common\";\nimport { TriggerResponse } from \"./TriggerResponse\";\nimport { getEmptyCosmosDiagnostics, withDiagnostics } from \"../../utils/diagnostics\";\n/**\n * Operations to read, replace, or delete a {@link Trigger}.\n *\n * Use `container.triggers` to create, upsert, query, or read all.\n */\nexport class Trigger {\n  /**\n   * Returns a reference URL to the resource. Used for linking in Permissions.\n   */\n  get url() {\n    return createTriggerUri(this.container.database.id, this.container.id, this.id);\n  }\n  /**\n   * @hidden\n   * @param container - The parent {@link Container}.\n   * @param id - The id of the given {@link Trigger}.\n   */\n  constructor(container, id, clientContext) {\n    this.container = container;\n    this.id = id;\n    this.clientContext = clientContext;\n  }\n  /**\n   * Read the {@link TriggerDefinition} for the given {@link Trigger}.\n   */\n  async read(options) {\n    return withDiagnostics(async diagnosticNode => {\n      const path = getPathFromLink(this.url);\n      const id = getIdFromLink(this.url);\n      const response = await this.clientContext.read({\n        path,\n        resourceType: ResourceType.trigger,\n        resourceId: id,\n        options,\n        diagnosticNode\n      });\n      return new TriggerResponse(response.result, response.headers, response.code, this, getEmptyCosmosDiagnostics());\n    }, this.clientContext);\n  }\n  /**\n   * Replace the given {@link Trigger} with the specified {@link TriggerDefinition}.\n   * @param body - The specified {@link TriggerDefinition} to replace the existing definition with.\n   */\n  async replace(body, options) {\n    return withDiagnostics(async diagnosticNode => {\n      if (body.body) {\n        body.body = body.body.toString();\n      }\n      const err = {};\n      if (!isResourceValid(body, err)) {\n        throw err;\n      }\n      const path = getPathFromLink(this.url);\n      const id = getIdFromLink(this.url);\n      const response = await this.clientContext.replace({\n        body,\n        path,\n        resourceType: ResourceType.trigger,\n        resourceId: id,\n        options,\n        diagnosticNode\n      });\n      return new TriggerResponse(response.result, response.headers, response.code, this, getEmptyCosmosDiagnostics());\n    }, this.clientContext);\n  }\n  /**\n   * Delete the given {@link Trigger}.\n   */\n  async delete(options) {\n    return withDiagnostics(async diagnosticNode => {\n      const path = getPathFromLink(this.url);\n      const id = getIdFromLink(this.url);\n      const response = await this.clientContext.delete({\n        path,\n        resourceType: ResourceType.trigger,\n        resourceId: id,\n        options,\n        diagnosticNode\n      });\n      return new TriggerResponse(response.result, response.headers, response.code, this, getEmptyCosmosDiagnostics());\n    }, this.clientContext);\n  }\n}","map":{"version":3,"names":["createTriggerUri","getIdFromLink","getPathFromLink","isResourceValid","ResourceType","TriggerResponse","getEmptyCosmosDiagnostics","withDiagnostics","Trigger","url","container","database","id","constructor","clientContext","read","options","diagnosticNode","path","response","resourceType","trigger","resourceId","result","headers","code","replace","body","toString","err","delete"],"sources":["/Users/ajitpawar/microsoft/bap/POCs/Scenario_checker_for_maker/mcs-scenario-checker-for-maker/node_modules/@azure/cosmos/src/client/Trigger/Trigger.ts"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport type { ClientContext } from \"../../ClientContext\";\nimport type { DiagnosticNodeInternal } from \"../../diagnostics/DiagnosticNodeInternal\";\nimport {\n  createTriggerUri,\n  getIdFromLink,\n  getPathFromLink,\n  isResourceValid,\n  ResourceType,\n} from \"../../common\";\nimport type { RequestOptions } from \"../../request\";\nimport type { Container } from \"../Container\";\nimport type { TriggerDefinition } from \"./TriggerDefinition\";\nimport { TriggerResponse } from \"./TriggerResponse\";\nimport { getEmptyCosmosDiagnostics, withDiagnostics } from \"../../utils/diagnostics\";\n\n/**\n * Operations to read, replace, or delete a {@link Trigger}.\n *\n * Use `container.triggers` to create, upsert, query, or read all.\n */\nexport class Trigger {\n  /**\n   * Returns a reference URL to the resource. Used for linking in Permissions.\n   */\n  public get url(): string {\n    return createTriggerUri(this.container.database.id, this.container.id, this.id);\n  }\n\n  /**\n   * @hidden\n   * @param container - The parent {@link Container}.\n   * @param id - The id of the given {@link Trigger}.\n   */\n  constructor(\n    public readonly container: Container,\n    public readonly id: string,\n    private readonly clientContext: ClientContext,\n  ) {}\n\n  /**\n   * Read the {@link TriggerDefinition} for the given {@link Trigger}.\n   */\n  public async read(options?: RequestOptions): Promise<TriggerResponse> {\n    return withDiagnostics(async (diagnosticNode: DiagnosticNodeInternal) => {\n      const path = getPathFromLink(this.url);\n      const id = getIdFromLink(this.url);\n\n      const response = await this.clientContext.read<TriggerDefinition>({\n        path,\n        resourceType: ResourceType.trigger,\n        resourceId: id,\n        options,\n        diagnosticNode,\n      });\n      return new TriggerResponse(\n        response.result,\n        response.headers,\n        response.code,\n        this,\n        getEmptyCosmosDiagnostics(),\n      );\n    }, this.clientContext);\n  }\n\n  /**\n   * Replace the given {@link Trigger} with the specified {@link TriggerDefinition}.\n   * @param body - The specified {@link TriggerDefinition} to replace the existing definition with.\n   */\n  public async replace(\n    body: TriggerDefinition,\n    options?: RequestOptions,\n  ): Promise<TriggerResponse> {\n    return withDiagnostics(async (diagnosticNode: DiagnosticNodeInternal) => {\n      if (body.body) {\n        body.body = body.body.toString();\n      }\n\n      const err = {};\n      if (!isResourceValid(body, err)) {\n        throw err;\n      }\n\n      const path = getPathFromLink(this.url);\n      const id = getIdFromLink(this.url);\n\n      const response = await this.clientContext.replace<TriggerDefinition>({\n        body,\n        path,\n        resourceType: ResourceType.trigger,\n        resourceId: id,\n        options,\n        diagnosticNode,\n      });\n      return new TriggerResponse(\n        response.result,\n        response.headers,\n        response.code,\n        this,\n        getEmptyCosmosDiagnostics(),\n      );\n    }, this.clientContext);\n  }\n\n  /**\n   * Delete the given {@link Trigger}.\n   */\n  public async delete(options?: RequestOptions): Promise<TriggerResponse> {\n    return withDiagnostics(async (diagnosticNode: DiagnosticNodeInternal) => {\n      const path = getPathFromLink(this.url);\n      const id = getIdFromLink(this.url);\n\n      const response = await this.clientContext.delete<TriggerDefinition>({\n        path,\n        resourceType: ResourceType.trigger,\n        resourceId: id,\n        options,\n        diagnosticNode,\n      });\n      return new TriggerResponse(\n        response.result,\n        response.headers,\n        response.code,\n        this,\n        getEmptyCosmosDiagnostics(),\n      );\n    }, this.clientContext);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}